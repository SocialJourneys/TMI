zk.load('zul,zul.box',function(){if(zk._p=zkpi('zkmax.layout'))try{
zkmax.layout.Tablelayout=zk.$extends(zul.Widget,{_columns:1,$define:{columns:function(){this.rerender()}},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);this.rerender()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(!this.childReplacing_){this.rerender()}}});
zkreg('zkmax.layout.Tablelayout');zk._m={};
zk._m['default']=function(e){var a=this.getZclass();var f=0,i=0,d,c,h=this.getColumns(),g={};e.push("<table",this.domAttrs_(),">");for(var b=this.firstChild;b;b=b.nextSibling){if(i==0||(g[f]&&g[f]==i)){e.push("<tr>")}b.redraw(e);d=b.getRowspan();c=b.getColspan();if(d>1){for(var j=f+1;j<f+d;j++){if(!g[j]){g[j]=c}else{g[j]+=c}}}if(i+c>=h){f++;if(g[f]){i=g[f]}else{i=0}e.push("</tr>")}else{i+=c}}if(i!=0&&!(g[f]&&g[f]==i)&&i<h){e.push("</tr>")}e.push("</table>")};
;zkmld(zk._p.p.Tablelayout,zk._m);zkmax.layout.Tablechildren=zk.$extends(zul.Widget,{_colspan:1,_rowspan:1,$define:{colspan:_zkf=function(){if(this.parent){this.parent.rerender()}},rowspan:_zkf},deferRedrawHTML_:function(a){a.push("<td",this.domAttrs_({domClass:1}),' class="z-renderdefer"></td>')}});
zkreg('zkmax.layout.Tablechildren');zk._m={};
zk._m['default']=function(c){c.push("<td",this.domAttrs_()+" ");var b;if((b=this.getRowspan())!=1){c.push(' rowspan="',b,'"')}if((b=this.getColspan())!=1){c.push(' colspan="',b,'"')}c.push(">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(c)}c.push("</td>")};
;zkmld(zk._p.p.Tablechildren,zk._m);zkmax.layout.Portallayout=zk.$extends(zul.Widget,{_maximizedMode:"column",$init:function(){this.$supers("$init",arguments);this.drags={}},$define:{maximizedMode:null},bind_:function(){this.$supers(zkmax.layout.Portallayout,"bind_",arguments);zWatch.listen({onSize:this});for(var b=this.firstChild;b;b=b.nextSibling){for(var a=b.firstChild;a;a=a.nextSibling){this._initDrag(a)}}},unbind_:function(){zWatch.unlisten({onSize:this});for(var b=this.firstChild;b;b=b.nextSibling){for(var a=b.firstChild;a;a=a.nextSibling){this._cleanupDrag(a)}}this.$supers(zkmax.layout.Portallayout,"unbind_",arguments)},_initDrag:function(a){if(a._draggable=="false"){return}var c=a.$n();if(this.drags[c.id]){return}var b=a.$n("cap");if(!b){return}this.drags[c.id]=new zk.Draggable(a,c,{handle:b,zIndex:99999,stackup:true,starteffect:zul.wnd.Panel._startmove,ghosting:this._ghostMove,ignoredrag:this._ignoreMove,endeffect:this._endMove,change:this._changeMove});jq(b).addClass(a.getZclass()+"-header-move");zk(b).disableSelection()},_cleanupDrag:function(a){var c;if(a&&this.drags[c=a.uuid]){this.drags[c].destroy();delete this.drags[c];var b=a.$n("cap");if(b){b.style.cursor=""}}},_getColWidths:function(){var a=this.nChildren,c=[];for(var b=0;b<a;b++){var d=this.getChildAt(b).$n();if(jq(d).is(":visible")){c.push(zk(this.getChildAt(b).$n()).revisedOffset()[0])}else{c.push(-1)}}return c},_getColHeights:function(e){var a=e.nChildren;var d=[];for(var c=0;c<a;c++){var b=e.getChildAt(c),f=b.$n();if(jq(f).is(":visible")){d.push(zk(f).revisedOffset()[1]+f.offsetHeight/2)}else{d.push(-1)}}return d},_changeMove:function(l,a,d){var c=l.control,i=c.parent,m=i.parent,b=jq("#"+c.uuid+"-proxy")[0];var g=l._widths,k=g.length,o=a;for(;--k>=0;){if(g[k]!=-1&&g[k]<=o[0]){break}}if(k<0){k=0}var h=m.getChildAt(k),n=h.firstChild,j=m._getColHeights(h),f=0,e=j.length;while(f<e){if(j[f]!=-1&&j[f]>o[1]){break}f++}if(n=h.getChildAt(f)){if(f<e){jq(b).insertBefore(n.$n())}else{jq(b).insertAfter(n.$n())}}else{h.$n("cave").appendChild(b)}},_ignoreMove:function(b,c,a){return b.control.isMaximized()||zul.wnd.Panel._ignoremove(b,c,a)},_initProxy:function(d){var a=document.createElement("div"),c=a.style,b=d.style;c.width="auto";a.id=d.id+"-proxy";c.marginTop=b.marginTop;c.marginLeft=b.marginLeft;c.marginRight=b.marginRight;c.marginBottom=b.marginBottom;jq(a).addClass("z-panel-move-block");c.height="10px";d.parentNode.insertBefore(a,d.previousSibling);jq(d).hide()},_cleanProxy:function(a){jq(a.id+"-proxy",zk).remove();jq(a).show()},_ghostMove:function(f,e,j){var d=f.control.parent.parent;f.node=jq("#"+f.handle.id.split("-")[0])[0];var g=jq(f.node).find(">div:first")[0],c=jq(g).next("div:first")[0],a=jq(g).clone()[0],i=jq(c).clone()[0];jq(document.body).prepend('<div id="zk_ddghost" class="z-panel-move-ghost" style="position:absolute;top:'+e[1]+"px;left:"+e[0]+"px;width:"+zk(f.node).offsetWidth()+"px;height:"+zk(f.node).offsetHeight()+"px;z-index:"+f.node.style.zIndex+'"><dl></dl></div>');f._zoffs=e;f._cns=d.firstChild.$n();f._widths=d._getColWidths();d._initProxy(f.node);var b=f.node.offsetHeight-g.offsetHeight-c.offsetHeight;f.node=jq("#zk_ddghost")[0];f.node.firstChild.style.height=zk(f.node.firstChild).revisedHeight(b,true)+"px";f.node.insertBefore(a,f.node.firstChild);f.node.insertBefore(i,f.node.lastChild);return f.node},_endMove:function(j,l){var a=j.control,m=a.$n(),f=a.parent,g=jq(m.id+"-proxy",zk)[0],b=zk.Widget.$(g.parentNode.id.split("-")[0]),h=jq(j.node).next("div:first")!=g,k=a.parent.parent;if(h){if(g.nextSibling){var d=zk.Widget.$("#"+g.nextSibling.id.split("-")[0]);b.insertBefore(a,d)}else{b.appendChild(a)}for(var e=0;e<b.nChildren;e++){var c=b.getChildAt(e);if(c.isMaximized()){c.setMaximized(false)}}k.fire("onPortalMove",{from:f.uuid,to:b.uuid,dragged:a.uuid,index:k._indexOf(g)},{toServer:true},0)}k._cleanProxy(a.$n());if(h){zUtl.fireSized(k)}j._cns=j._columns=null},_indexOf:function(a){return jq(a).index()},getPanel:function(a,b){if(a<0||b<0||this.nChildren<=a){return null}var c=this.getChildAt(a);if(c.nChildren<=b){return null}return c.getChildAt(b)},setPanel:function(a,b,c){if(b<0||c<0||a==null||this.nChildren<=b){return false}var d=this.getChildAt(b);if(d.nChildren>=c){return d.appendChild(a)}else{return d.insertBefore(a,d.getChildAt(c))}},getPosition:function(a){var d=[-1,-1],c=a.parent;if(a==null||c==null){return d}for(var b=0;b<c.nChildren;b++){if(a==c.getChildAt(b)){d[1]=b}}for(var b=0;b<this.nChildren;b++){if(c==this.getChildAt(b)){d[0]=b}}return d},_isLegalChild:function(a){return a.id&&a.tagName=="DIV"},_isVisibleChild:function(a){return a.tagName=="DIV"&&zk(a).isVisible()},onChildAdded_:function(b){this.$supers("onChildAdded_",arguments);if(this.desktop){for(var a=b.firstChild;a;a=a.nextSibling){if(a.$n()){this._initDrag(a)}}}this.render()},onChildRemoved_:function(b){this.$supers("onChildRemoved_",arguments);if(this.desktop){for(var a=b.firstChild;a;a=a.nextSibling){this._cleanupDrag(a)}}if(!this.childReplacing_){this.render()}},render:_zkf=function(){var e=this.$n();if(!zk(e).isRealVisible()){return}var f=this.$n("cave");if(f){f.style.width="";f.style.height=""}if(zk.ie6_&&e){f.style.width="0px"}var b=zk(e).revisedWidth(e.offsetWidth),d=b,c=jq(f).find(">div:first")[0];f.style.width=d+"px";if(e&&e.style.height){if(zk.ie6_){f.style.height="0px"}f.style.height=zk(e).revisedHeight(e.offsetHeight,true)+"px"}for(;c;c=jq(c).next("div:first")[0]){var a=zk.Widget.$(c.id)._oriWidth;if(this._isLegalChild(c)&&a.endsWith("px")>0){d-=(zk.parseInt(a)+zk(c).padBorderWidth())}}d=Math.max(0,d);c=jq(f).find(">div:first")[0];for(;c;c=jq(c).next("div:first")[0]){var a=zk.Widget.$(c.id)._oriWidth;if(this._isLegalChild(c)&&a.indexOf("%")>0){c.style.width=(d?Math.max(0,Math.floor(zk.parseInt(a)/100*d)-zk(c).padBorderWidth()):0)+"px"}}},onSize:_zkf,setWidth:function(){this.$supers("setWidth",arguments);this.onSize()}});
zkreg('zkmax.layout.Portallayout');zk._m={};
zk._m['default']=function(b){var c=this.getZclass();b.push("<div",this.domAttrs_(),'><div id="',this.uuid,'-cave"','class="',c,'-inner">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push('</div><div class="z-clear"></div></div>')};
;zkmld(zk._p.p.Portallayout,zk._m);zkmax.layout.Portalchildren=zk.$extends(zul.Widget,{dragControl:function(b){var a=this.parent;if(a){a._cleanupDrag(b);a._initDrag(b)}return true},bind_:function(){this.$supers(zkmax.layout.Portalchildren,"bind_",arguments);zWatch.listen({onSize:this});var a=this.$n();this._oriWidth=a.style.width},unbind_:function(){zWatch.unlisten({onSize:this});this.$supers(zkmax.layout.Portalchildren,"unbind_",arguments)},onSize:function(){var c=this.$n();if(!zk(c).isRealVisible()){return}this._clearSize();var b=this.$n("cave");if(zk.ie6_&&c){b.style.width="0px"}var a=zk(c).revisedWidth(c.offsetWidth);b.style.width=a+"px";if(c&&c.style.height){if(zk.ie6_){b.style.height="0px"}b.style.height=zk(c).revisedHeight(c.offsetHeight,true)+"px"}if(zk.ie6_){zk(b).redoCSS()}},onMaximize:function(b){if(this.parent.getMaximizedMode()=="whole"){return}var f=b.target,c=f.$n(),e=this.$n("cave"),a=b.data.maximized;jq(e).children().each(function(){if(this!=c){var g=zk.Widget.$(this);if(a){this.style.display="none"}else{if(g.isVisible()){this.style.display="";var h;if((g._draggable!="false")&&(h=g.$n("cap"))){jq(h).addClass(g.getZclass()+"-header-move")}if(g.isMaximized()){g.setMaximized(false,true)}else{zUtl.fireSized(g)}}}}});var d;if((f._draggable!="false")&&(d=f.$n("cap"))){jq(d)[a?"removeClass":"addClass"](f.getZclass()+"-header-move")}if(b.data.fromServer){b.stop()}},_addListen:function(a){a.listen({onMaximize:this})},_removeListen:function(a){a.unlisten({onMaximize:this})},onChildAdded_:function(a){a.z$rod0=false;this.$supers("onChildAdded_",arguments);if(this.desktop&&this.parent){this.parent._initDrag(a);this._clearSize();zUtl.fireSized(zk.Widget.$(this.parent))}this._addListen(a)},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(this.desktop&&this.parent){this.parent._cleanupDrag(a);if(this.parent.getMaximizedMode()=="column"&&a.isMaximized()){this.onMaximize({target:a,data:{maximized:false}})}this._clearSize();zUtl.fireSized(zk.Widget.$(this.parent))}this._removeListen(a)},_clearSize:function(){var a=this.$n("cave");if(a){a.style.width="";a.style.height=""}},setStyle:function(){this.$supers("setStyle",arguments);var a=this.$n();if(a){this._oriWidth=a.style.width;zUtl.fireSized(this.parent,-1)}},setWidth:function(){this.$supers("setWidth",arguments);var a=this.$n();if(a){this._oriWidth=a.style.width;zUtl.fireSized(this.parent,-1)}},isExcludedVflex_:function(){return true}});
zkreg('zkmax.layout.Portalchildren');zk._m={};
zk._m['default']=function(b){var c=this.getZclass();b.push("<div",this.domAttrs_(),'><div class="',c,'-body">','<div id="',this.uuid,'-cave" class="',c,'-cnt">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push('</div><div style="height:1px;position:relative;width:1px;"><br/></div></div></div>')};
;zkmld(zk._p.p.Portalchildren,zk._m);(function(){var b=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(d){return setTimeout(d,1)}})(),a=(function(){return window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout})();function c(d){return d>>0}zkmax.layout.Scrollview=zk.$extends(zul.box.Layout,{_orient:"vertical",_zdeceleration:0.0006,_start:null,_end:null,_time:null,_pos:null,_startPos:null,_steps:null,_dir:null,_fixedScrollbar:zk.android,_aniTime:null,_outBound:false,_outBoundLT:false,$define:{orient:function(){this.rerender()}},bind_:function(){this.$supers(zkmax.layout.Scrollview,"bind_",arguments);var d=this.$n();if(zk.mobile){this._pos=[0,0];this._startPos=[0,0];this.domListen_(d,"onTouchStart","doTouchStart_");d.style[zk.vendor+"TransitionProperty"]="-"+zk.vendor_+"-transform";zWatch.listen({onSize:this,onResponse:this})}else{jq(d).css("overflow","auto")}},unbind_:function(){if(zk.mobile){this._pos=null;this._startPos=null;zWatch.unlisten({onSize:this,onResponse:this});var d=this.$n();this.domUnlisten_(d,"onTouchStart","doTouchStart_")}this.$supers(zkmax.layout.Scrollview,"unbind_",arguments)},onSize:function(){this._refrshBar()},doResizeScroll_:function(){this.$supers("doResizeScroll_",arguments);this._refrshBar();this._scrollTo(this._pos[0],this._pos[1],0)},isVertical_:function(){return this.getOrient()=="vertical"},_refrshBar:function(){var d=this.$n(),e=zk(d),f=this.$n("cave");this._viewW=e.revisedWidth(d.offsetWidth)||1;this._viewH=e.revisedHeight(d.offsetHeight)||1;this._fixCaveSize();this._caveW=f.offsetWidth;this._caveH=f.offsetHeight;this._maxCaveX=this._viewW-this._caveW;this._maxCaveY=this._viewH-this._caveH;this._hBar=this._caveW>this._viewW;this._vBar=this._caveH>this._viewH;this._removeBar("_h");this._removeBar("_v");this._addBar("_h");this._addBar("_v")},_fixCaveSize:function(){var d=this.$n(),f=this.$n("cave"),e=f.style;e.height="";e.width="";if(f.offsetHeight&&f.offsetWidth){}e.height=f.scrollHeight>d.offsetHeight?jq.px(f.scrollHeight):"100%";e.width=f.scrollWidth>d.offsetWidth?jq.px(f.scrollWidth):"100%"},_removeBar:function(e){if(this[e+"Bar"]){var d=e+"BarView",f=e+"BarCave";if(this[d]){this[f].style[zk.vendor+"Transform"]="";this[d].parentNode.removeChild(this[d]);this[f]=this[d]=null}}},_addBar:function(h){if(!this[h+"Bar"]){return}var j,f=h=="_h",d=h+"BarView";if(!this[d]){j=document.createElement("div");var g=j.style,k=this.getZclass();j.className=k+(f?"-hor-bar":"-ver-bar");this.$n().appendChild(j);this[d]=j;j=document.createElement("div");j.style[zk.vendor+"TransitionProperty"]="-"+zk.vendor_+"-transform";j.className=k+(f?"-hor-bar-cave":"-ver-bar-cave");this[d].appendChild(j);this[h+"BarCave"]=j;j=null}if(f){var e=this._hBarView.clientWidth;this._hBarCaveSize=Math.max(c(e*e/this._caveW),8);this._hBarCave.style.width=this._hBarCaveSize+"px";this._hBarMaxScroll=e-this._hBarCaveSize;this._hBarProp=this._hBarMaxScroll/this._maxCaveX}else{var i=this._vBarView.clientHeight;this._vBarCaveSize=Math.max(c(i*i/this._caveH),8);this._vBarCave.style.height=this._vBarCaveSize+"px";this._vBarMaxScroll=i-this._vBarCaveSize;this._vBarProp=this._vBarMaxScroll/this._maxCaveY}this._barPos(this._pos,h,true)},_barPos:function(h,e,g){if(!this[e+"Bar"]){return}var d=e=="_h",h=d?h[0]:h[1],f;h=this[e+"BarProp"]*h;if(h<0){if(!this._fixedScrollbar){f=this[e+"BarCaveSize"]+c(h*3);if(f<8){f=8}this[e+"BarCave"].style[e=="h"?"width":"height"]=f+"px"}h=0}else{if(h>this[e+"BarMaxScroll"]){if(!this._fixedScrollbar){f=this[e+"BarCaveSize"]-c((h-this[e+"BarMaxScroll"])*3);if(f<8){f=8}this[e+"BarCave"].style[d?"width":"height"]=f+"px";h=this[e+"BarMaxScroll"]+(this[e+"BarCaveSize"]-f)}else{h=this[e+"BarMaxScroll"]}}}this[e+"BarView"].style.opacity=g?"0":"1";this[e+"BarCave"].style[zk.vendor+"Transform"]="translate3d("+(d?h+"px,0":"0,"+h+"px")+", 0)"},_move:function(d){d[0]=this._hBar?d[0]:0;d[1]=this._vBar?d[1]:0;this.$n("cave").style[zk.vendor+"Transform"]="translate3d("+d[0]+"px, "+d[1]+"px, 0)";this._unloadBoundary();if(this.isListen("onScroll",{asapOnly:true})&&this._outBound){this._loadBoundary()}this._pos=d;this._barPos(d,"_v");this._barPos(d,"_h")},_calcMomentum:function(j,d,h,l,k){var i=this._zdeceleration||0.0006,e=Math.abs(j)/d,f=(e*e)/(2*i),m=0,g=0;if(j>0&&f>h){g=k/(6/(f/e*i));h=h+g;e=e*h/f;f=h}else{if(j<0&&f>l){g=k/(6/(f/e*i));l=l+g;e=e*l/f;f=l}}f=f*(j<0?-1:1);m=e/i;return{dist:f,time:c(m)}},_resetPos:function(h){var j=this._pos,g=this._maxCaveX,e=this._maxCaveY,i=j[0]>=0?0:j[0]<g?g:j[0],f=j[1]>=0?0:j[1]<e?e:j[1];if(i==j[0]&&f==j[1]){if(this._moved){this._moved=false}if(this._hBarView){var d=this._hBarView.style;d[zk.vendor+"TransitionDelay"]=zk.android?"0":"50ms";d.opacity="0"}if(this._vBarView){var d=this._vBarView.style;d[zk.vendor+"TransitionDelay"]=zk.android?"0":"50ms";d.opacity="0"}this._unloadBoundary();return}this._scrollTo(i,f,h||0)},_scrollTo:function(d,m,j,h){var g=d,k=this._pos;this._stop();if(!g.length){g=[{x:d,y:m,time:j,relative:h}]}for(var f=0,e=g.length;f<e;f++){if(g[f].relative){g[f].x=k[0]-g[f].x;g[f].y=k[1]-g[f].y}this._steps.push({x:g[f].x,y:g[f].y,time:g[f].time||0})}this._startAnima()},_stop:function(){a(this._aniTime);this._steps=[];this._moved=false;this._animating=false},_startAnima:function(){var l=this,k=this._pos,g=Date.now(),j,e=this._maxCaveX,d=this._maxCaveY,i=this.isVertical_();if(this._animating){return}if(!this._steps.length){this._resetPos(300);return}var h=this._steps.shift();if(h.x==k[0]&&h.y==k[1]){h.time=0}this._animating=true;this._moved=true;var f=function(){var m=Date.now(),o,n;if(m>=g+h.time){l._move([h.x,h.y]);l._animating=false;l._startAnima();return}m=(m-g)/h.time-1;j=Math.sqrt(1-m*m);o=(h.x-k[0])*j+k[0];n=(h.y-k[1])*j+k[1];if((!i&&(o>0||o<e))||(i&&(n>0||n<d))){l._outBound=true;l._outBoundLT=o>0||n>0?true:false}else{l._outBound=false}l._move([o,n]);if(l._animating){l._aniTime=b(f)}};f()},_loadBoundary:function(){var l=this.$n("load"),f=l.style,d=this._dir,m=this.getZclass()+"-load-"+d;f.display="block";var e=this.$n("load-image");jq(e).removeClass();jq(e).addClass(m);var g=this.isVertical_(),k=this._viewW-e.offsetWidth,i=this._viewH-e.offsetHeight,j=[g?k/2:(this._outBoundLT?0:k),g?(this._outBoundLT?0:i):i/2];f.left=jq.px(j[0]);f.top=jq.px(j[1])},_unloadBoundary:function(){this.$n("load").style.display="none";jq(this.$n("load-image")).removeClass()},doTouchStart_:function(n){var g=n.domEvent.originalEvent,m=g.touches?g.touches[0]:g,d=g.target,j=["SELECT","INPUT","TEXTAREA","A","BUTTON","LI","DIV"];while(d.nodeType!=1){d=d.parentNode}for(var p,f,o;d;d=d.parentNode){p=d.tagName;f=jq.inArray(p,j);o=jq(d);if(f>-1&&f!=6){return}if(f==6&&o&&o.css("cursor")=="pointer"){return}}g.preventDefault();var l=getComputedStyle(this.$n("cave"),null)[zk.vendor+"Transform"].replace(/[^0-9-.,]/g,"").split(","),k=l[4]*1,i=l[5]*1,h=this._pos;if(k!=h[0]||i!=h[1]){a(this._aniTime);this._steps=[];this._move([k,i])}this._moved=false;this._animating=false;this._outBound=false;this._outBoundLT=false;this._start=[m.pageX,m.pageY];this._startPos=this._pos;this._time=g.timeStamp||Date.now();var e=this.$n();this.domListen_(e,"onTouchMove","doTouchMove_").domListen_(e,"onTouchEnd","doTouchEnd_")},doTouchMove_:function(o){var k=o.domEvent.originalEvent,m=k.touches?k.touches[0]:k,g=this._start,n=[m.pageX-g[0],m.pageY-g[1]],q=[Math.abs(n[0]),Math.abs(n[1])],l=this._pos,i=[l[0]+n[0],l[1]+n[1]],h=k.timeStamp||Date.now(),e=this._maxCaveX,d=this._maxCaveY,j=this.isVertical_();this._start=[m.pageX,m.pageY];this._outBound=false;if(!j&&(i[0]>0||i[0]<e)){i[0]=l[0]+(n[0]/2);this._outBound=true;this._outBoundLT=i[0]>0?true:false}if(j&&(i[1]>0||i[1]<d)){i[1]=l[1]+(n[1]/2);this._outBound=true;this._outBoundLT=i[1]>0?true:false}if(q[0]<6&&q[1]<6){return}if(q[0]>q[1]+5&&!j){i[1]=l[1];n[1]=0;this._dir=n[0]>0?"left":"right"}else{if(q[1]>q[0]+5&&j){i[0]=l[0];n[0]=0;this._dir=n[1]>0?"up":"down"}}this._moved=true;this._move(i);if(h-this._time>300){this._time=h;this._startPos=l}var f=j?this._pos[1]:this._pos[0];this.fire("onScrolling",{"":-f,outBound:this._outBound})},doTouchEnd_:function(s){var m=s.domEvent.originalEvent,j=this.$n();this.domUnlisten_(j,"onTouchMove","doTouchMove_").domUnlisten_(j,"onTouchEnd","doTouchEnd_");if(m.touches.length!=0){return}var r=m.changedTouches[0],i={dist:0,time:0},f={dist:0,time:0},k=(m.timeStamp||Date.now())-this._time,o=newPos=this._pos,l=this._startPos,h;if(k<300){var n,q;if(newPos[0]){n=newPos[0]-l[0];q=this._caveW-this._viewW+o[0];i=this._calcMomentum(n,k,-o[0],q,this._viewW)}if(newPos[1]){n=newPos[1]-l[1];q=this._caveH-this._viewH+o[1];f=this._calcMomentum(n,k,-o[1],q,this._viewH)}newPos=[o[0]+i.dist,o[1]+f.dist];var e=this._maxCaveX,d=this._maxCaveY;if((o[0]>0&&newPos[0]>0)||(o[0]<e&&newPos[0]<e)){i={dist:0,time:0}}if((o[1]>0&&newPos[1]>0)||(o[1]<d&&newPos[1]<d)){f={dist:0,time:0}}}if(i.dist||f.dist){h=Math.max(Math.max(i.time,f.time),10);this._scrollTo(c(newPos[0]),c(newPos[1]),h);return}var g=this.isVertical_()?this._pos[1]:this._pos[0];this.fire("onScroll",{"":-g,outBound:this._outBound});this._resetPos(100)},removeChildHTML_:function(d){this.$supers("removeChildHTML_",arguments);jq(d.uuid+"-chdex",zk).remove()},encloseChildHTML_:function(i,h){var e=[],f=this.isVertical_()?"-content-ver":"-content-hor";e.push('<div id="',i.uuid,'-chdex" class="',this.getZclass(),f,'">');i.redraw(e);e.push("</div>");if(!h){return e.join("")}for(var g=0,d=e.length;g<d;++g){h.push(e[g])}},_chdextr:function(d){return d.$n("chdex")||d.$n()},insertChildHTML_:function(f,d,e){if(d){jq(this._chdextr(d)).before(this.encloseChildHTML_(f))}else{jq(this.$n("cave")).append(this.encloseChildHTML_(f))}f.bind(e)}})})();
zkreg('zkmax.layout.Scrollview');zk._m={};
zk._m['default']=function(b){var f=this.getZclass(),d=this.uuid,e=this.isVertical_(),c=e?f+"-container-ver":f+"-container-hor";b.push("<div ",this.domAttrs_(),">",'<div id="',d,'-load" class="',f,'-load"><div id="',d,'-load-image"></div></div>','<div id="',d,'-cave" class="',c,'">');for(var a=this.firstChild;a;a=a.nextSibling){this.encloseChildHTML_(a,b)}b.push("</div></div>")};
;zkmld(zk._p.p.Scrollview,zk._m);(function(){function a(d){if(d){zkmax.rodRender(d)}}function c(f,g,d){var h=f.$n(),e=b(f,g);if(f.isHorizontal()){e.style.left=(g.getChildIndex()-d)*h.offsetWidth+"px"}else{e.style.top=(g.getChildIndex()-d)*h.offsetHeight+"px"}}function b(d,e){return d.$n(e.uuid+"-chdex")}zkmax.layout.Cardlayout=zk.$extends(zul.Widget,{_selectedIndex:0,_orient:"horizontal",$define:{orient:function(){this.rerender()}},getSelectedIndex:function(){return this._selectedIndex},setSelectedIndex:function(d){if(!d||d<0){d=0}if(this.desktop){a(this.getChildAt(d));a(this.getChildAt(d+1));a(this.getChildAt(d-1));this._animateShift(d)}this._selectedIndex=d},_animateShift:function(e){var d=this.isHorizontal(),f=this._selectedIndex-e,h=Math.abs(f)*(d?this.$n().offsetWidth:this.$n().offsetHeight),g=f>0?"+="+h:"-="+h;if(d){jq("#"+this.uuid+" ."+this.getZclass()+"-inner").animate({left:g},"slow")}else{jq("#"+this.uuid+" ."+this.getZclass()+"-inner").animate({top:g},"slow")}},isVertical:function(){return"vertical"==this._orient},isHorizontal:function(){return"horizontal"==this._orient},setFlexSize_:function(g,e){var h=this.$n(),d=zk(h),f=this.getChildAt(this._selectedIndex).$n();margin=this.getMarginSize_("w");if(g.height!==undefined){if(g.height=="auto"){h.style.height=""}else{if(g.height!=""||g.height===0){if(this._vflex=="min"){h.style.height=jq.px(f.offsetHeight)}else{this.setFlexSizeH_(h,d,g.height,e)}}else{h.style.height=this._height||""}}}if(g.width!==undefined){if(g.width=="auto"){h.style.width=""}else{if(g.width!=""||g.width===0){if(this._hflex=="min"){h.style.width=jq.px(f.offsetWidth)}else{this.setFlexSizeW_(h,d,g.width,e)}}else{h.style.width=this._width||""}}}return{height:h.offsetHeight,width:h.offsetWidth}},bind_:function(){this.$supers("bind_",arguments);zWatch.listen({onSize:this})},unbind_:function(){zWatch.unlisten({onSize:this});this.$supers("unbind_",arguments)},onSize:function(){var d=this._selectedIndex;for(var e=this.firstChild;e;e=e.nextSibling){c(this,e,d)}},insertChildHTML_:function(h,f,g){var d=this._selectedIndex;if(f){jq(b(this,f)).before(this.encloseChildHTML_(h));if(f.getChildIndex()-1>d){for(var e=h;e;e=e.nextSibling){c(this,e,d)}}else{d++;for(var e=f.previousSibling;e;e=e.previousSibling){c(this,e,d)}this._selectedIndex=d}}else{jq(this.$n()).append(this.encloseChildHTML_(h));c(this,h,d)}h.bind(g)},removeChild:function(d){a(d);this._removeChild(d);this.$supers("removeChild",arguments);delete this._subnodes[d.uuid+"-chdex"]},_removeChild:function(g){var d=this._selectedIndex,f=g.getChildIndex();if(d==f&&d==this.nChildren-1){if(this.nChildren!=1){this.setSelectedIndex(d-1)}return}if(f<=d){if(d===this.nChildren-1){this._selectedIndex--;a(this.getChildAt(this._selectedIndex-1));for(var e=g.previousSibling;e;e=e.previousSibling){c(this,e,d-1)}}else{for(var e=g.previousSibling;e;e=e.previousSibling){c(this,e,d-1)}this.setSelectedIndex(d+1);this._selectedIndex=d}}else{for(var e=g.nextSibling;e;e=e.nextSibling){c(this,e,d+1)}}},removeChildHTML_:function(d){this.$supers("removeChildHTML_",arguments);jq(b(this,d)).remove()},encloseChildHTML_:function(n,h){var f=this._selectedIndex,m=this.getZclass(),d=this.uuid,k=n.getChildIndex(),l=[],e=[];if(!this._vflex||"min"!=this._vflex){e.push("height:100%")}if(this._hflex||"min"!=this._hflex){e.push("width:100%")}l.push('<div id="',d,"-",n.uuid,"-chdex",'" class="',m,'-inner" style="',e.join(";"),'">');if(k>=f-1&&k<=f+1){n.redraw(l)}else{n.z_rod=true;l.push('<div id="',n.uuid,'" style="display:none;border:1px solid"></div>')}l.push("</div>");if(!h){return l.join("")}for(var g=0,i=l.length;g<i;++g){h.push(l[g])}}},{minSwipeLowerBound:30,minSwipeUpperBound:300,maxSwipeLowerBound:75,ignoreClass:zul.wgt.Image})})();
zkreg('zkmax.layout.Cardlayout');zk._m={};
zk._m['default']=function(b){b.push("<div",this.domAttrs_(),' data-swipeable="true">');for(var a=this.firstChild;a;a=a.nextSibling){this.encloseChildHTML_(a,b)}b.push("</div>")};
;zkmld(zk._p.p.Cardlayout,zk._m);
}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zkmax.layout',1);